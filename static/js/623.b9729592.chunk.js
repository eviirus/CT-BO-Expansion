"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[623],{6623:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var a=n(5043),r=n(9379),i=n(9111),l=n(579);const s=(0,a.forwardRef)(((e,t)=>{let{pageTitle:n,imageLink:s}=e;const[c,o]=(0,a.useState)({}),[d,p]=(0,a.useState)({pageTitle:"",imageLink:""});(0,a.useImperativeHandle)(t,(()=>({validate:()=>{const e={};if(s&&""!==d.imageLink.trim()){/^(https?):\/\/[^\s/$.?#].[^\s]*$/i.test(d.imageLink)||(e.imageLink="Please enter a valid URL")}else s&&""===d.imageLink.trim()&&(e.imageLink="Image link is required");return n&&""===d.pageTitle.trim()&&(e.pageTitle="Page title is required"),o(e),0===Object.keys(e).length},getValues:()=>d})));const g=[];return n&&g.push({label:"Page title",key:"pageTitle"}),s&&g.push({label:"Image link",key:"imageLink"}),(0,l.jsxs)("section",{className:"hero-content basic-col",children:[(0,l.jsx)("h2",{className:"regular24",children:"Hero content"}),(0,l.jsx)("div",{className:"content",children:g.map((e=>(0,l.jsxs)("div",{className:"input",children:[(0,l.jsx)("label",{htmlFor:e.key,children:e.label}),(0,l.jsx)(i.A,{id:e.key,value:d[e.key],onChange:t=>{return n=e.key,a=t.target.value,p((e=>(0,r.A)((0,r.A)({},e),{},{[n]:a}))),void o((e=>(0,r.A)((0,r.A)({},e),{},{[n]:""})));var n,a}}),c[e.key]&&(0,l.jsx)("div",{className:"error",children:c[e.key]})]},e.key)))})]})}));var c=n(9577),o=n(8348),d=n(7326),p=n(2357);function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[t,n]=(0,a.useState)(e),i=(0,a.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n((t=>[...t,(0,r.A)({key:t.length},e)]))}),[]);return{rows:t,addRow:i,removeRow:(0,a.useCallback)((e=>{n((t=>t.filter((t=>t.key!==e))))}),[])}}const{TextArea:u}=i.A,h=(0,a.forwardRef)(((e,t)=>{let{content:n}=e;const[i,s]=(0,a.useState)({}),[c,d]=(0,a.useState)({}),[h,x]=(0,a.useState)({}),[y,v]=(0,a.useState)({}),{rows:k,addRow:m,removeRow:j}=g(),[f,w]=(0,a.useState)({type:{},text:{}}),A=n.map((e=>({label:e.type,value:e.type})));(0,a.useImperativeHandle)(t,(()=>({validate:()=>{const e={type:{},text:{}};return 0!==k.length&&k.forEach((t=>{i[t.key]||(e.type[t.key]="Heading type is required"),y[t.key]||(e.text[t.key]="Heading content is required")})),w(e),0===Object.keys(e.type||{}).length&&0===Object.keys(e.text||{}).length},getValues:()=>{const e={};return k.forEach((t=>{e[t.key]={type:i[t.key],class:c[t.key],text:y[t.key]}})),e}})));return(0,l.jsxs)("section",{className:"heading-content",children:[k.map((e=>(0,l.jsxs)("div",{className:"basic-row",children:[(0,l.jsxs)("div",{className:"col-gap-only",children:[(0,l.jsx)("label",{htmlFor:"headingType-".concat(e.key),children:"Heading type"}),(0,l.jsx)(p.A,{id:"headingType-".concat(e.key),style:{width:"150px"},allowClear:!0,options:A,onChange:t=>((e,t)=>{s((n=>(0,r.A)((0,r.A)({},n),{},{[e]:t}))),w((t=>(0,r.A)((0,r.A)({},t),{},{type:(0,r.A)((0,r.A)({},t.type||{}),{},{[e]:""})})));const a=n.filter((e=>e.type===t&&""!==e.class)).map((e=>({label:e.class,value:e.class})));x((t=>(0,r.A)((0,r.A)({},t),{},{[e]:a})))})(e.key,t),value:i[e.key]||null}),f.type[e.key]&&(0,l.jsx)("div",{className:"error",children:f.type[e.key]})]}),(0,l.jsxs)("div",{className:"col-gap-only",children:[(0,l.jsx)("label",{htmlFor:"headingClass-".concat(e.key),children:"Heading class"}),(0,l.jsx)(p.A,{id:"headingClass-".concat(e.key),style:{width:"300px"},allowClear:!0,options:h[e.key],disabled:!i[e.key]||!h[e.key]||0===h[e.key].length,onChange:t=>d((n=>(0,r.A)((0,r.A)({},n),{},{[e.key]:t}))),value:c[e.key]||null})]}),(0,l.jsxs)("div",{className:"basic-col",children:[(0,l.jsx)("label",{htmlFor:"headingContent-".concat(e.key),children:"Heading content"}),(0,l.jsx)(u,{id:"headingContent-".concat(e.key),disabled:!i[e.key],rows:1,style:{resize:"none"},onChange:t=>{return n=e.key,a=t.target.value,v((e=>(0,r.A)((0,r.A)({},e),{},{[n]:a}))),void w((e=>(0,r.A)((0,r.A)({},e),{},{text:(0,r.A)((0,r.A)({},e.text||{}),{},{[n]:""})})));var n,a}}),f.text[e.key]&&i[e.key]&&(0,l.jsx)("div",{className:"error",children:f.text[e.key]})]}),(0,l.jsx)(o.Ay,{color:"red",variant:"outlined",onClick:()=>j(e.key),style:{marginTop:"29px"},children:"Remove heading row"})]},e.key))),(0,l.jsx)(o.Ay,{color:"default",variant:"outlined",onClick:()=>m(),children:"Add heading row"})]})})),{TextArea:x}=i.A,y=(0,a.forwardRef)(((e,t)=>{let{content:n}=e;const[i,s]=(0,a.useState)({}),[c,d]=(0,a.useState)({}),[u,h]=(0,a.useState)({}),[y,v]=(0,a.useState)({}),{rows:k,addRow:m,removeRow:j}=g(),[f,w]=(0,a.useState)({type:{},text:{}}),A=n.map((e=>({label:e.type,value:e.type})));(0,a.useImperativeHandle)(t,(()=>({validate:()=>{const e={type:{},text:{}};return 0!==k.length&&k.forEach((t=>{i[t.key]||(e.type[t.key]="Paragraph type is required"),y[t.key]||(e.text[t.key]="Paragraph content is required")})),w(e),0===Object.keys(e.type||{}).length&&0===Object.keys(e.text||{}).length},getValues:()=>{const e={};return k.forEach((t=>{e[t.key]={type:i[t.key],class:c[t.key],text:y[t.key]}})),e}})));return(0,l.jsxs)("section",{className:"paragraph-content",children:[k.map((e=>(0,l.jsxs)("div",{className:"basic-row",children:[(0,l.jsxs)("div",{className:"col-gap-only",children:[(0,l.jsx)("label",{htmlFor:"paragraphType-".concat(e.key),children:"Paragraph type"}),(0,l.jsx)(p.A,{id:"paragraphType-".concat(e.key),style:{width:"150px"},allowClear:!0,options:A,onChange:t=>((e,t)=>{s((n=>(0,r.A)((0,r.A)({},n),{},{[e]:t}))),w((t=>(0,r.A)((0,r.A)({},t),{},{type:(0,r.A)((0,r.A)({},t.type||{}),{},{[e]:""})})));const a=n.filter((e=>e.type===t&&""!==e.class)).map((e=>({label:e.class,value:e.class})));h((t=>(0,r.A)((0,r.A)({},t),{},{[e]:a})))})(e.key,t),value:i[e.key]||null}),f.type[e.key]&&(0,l.jsx)("div",{className:"error",children:f.type[e.key]})]}),(0,l.jsxs)("div",{className:"col-gap-only",children:[(0,l.jsx)("label",{htmlFor:"paragraphClass-".concat(e.key),children:"Paragraph class"}),(0,l.jsx)(p.A,{id:"paragraphClass-".concat(e.key),style:{width:"300px"},allowClear:!0,options:u[e.key],disabled:!i[e.key]||!u[e.key]||0===u[e.key].length,onChange:t=>d((n=>(0,r.A)((0,r.A)({},n),{},{[e.key]:t}))),value:c[e.key]||null})]}),(0,l.jsxs)("div",{className:"basic-col",children:[(0,l.jsx)("label",{htmlFor:"paragraphContent-".concat(e.key),children:"Paragraph content"}),(0,l.jsx)(x,{id:"paragraphContent-".concat(e.key),disabled:!i[e.key],rows:4,style:{resize:"none"},onChange:t=>{return n=e.key,a=t.target.value,v((e=>(0,r.A)((0,r.A)({},e),{},{[n]:a}))),void w((e=>(0,r.A)((0,r.A)({},e),{},{text:(0,r.A)((0,r.A)({},e.text||{}),{},{[n]:""})})));var n,a}}),f.text[e.key]&&i[e.key]&&(0,l.jsx)("div",{className:"error",children:f.text[e.key]})]}),(0,l.jsx)(o.Ay,{color:"red",variant:"outlined",onClick:()=>j(e.key),style:{marginTop:"29px"},children:"Remove paragraph row"})]},e.key))),(0,l.jsx)(o.Ay,{color:"default",variant:"outlined",onClick:()=>m(),children:"Add paragraph row"})]})}));var v=n(1966);const k=(0,a.forwardRef)(((e,t)=>{let{content:n}=e;const r=(0,a.useRef)({}),i=(0,a.useRef)({}),{rows:s,addRow:p,removeRow:u}=g();(0,a.useImperativeHandle)(t,(()=>({validate:()=>{for(const n in r.current){var e;if(null!==(e=r.current[n])&&void 0!==e&&e.validate){if(!r.current[n].validate())return!1}}for(const n in i.current){var t;if(null!==(t=i.current[n])&&void 0!==t&&t.validate){if(!i.current[n].validate())return!1}}return!0},getValues:()=>{const e={heading:{},paragraph:{}};for(const a in r.current){var t;null!==(t=r.current[a])&&void 0!==t&&t.getValues&&(e.heading[a]=r.current[a].getValues())}for(const a in i.current){var n;null!==(n=i.current[a])&&void 0!==n&&n.getValues&&(e.paragraph[a]=i.current[a].getValues())}return e}})));const x=e=>{const t=n.find((e=>"heading"===e.rowType)),a=n.find((e=>"paragraph"===e.rowType));return(0,l.jsxs)(l.Fragment,{children:[t&&(0,l.jsx)(h,{ref:t=>r.current[e]=t,content:t.items.headings}),a&&(0,l.jsx)(y,{ref:t=>i.current[e]=t,content:a.items.paragraphs})]})};return(0,l.jsxs)("section",{className:"body-content basic-col",children:[(0,l.jsx)("h2",{className:"regular24",children:"Body content"}),s.map((e=>{return(0,l.jsx)(d.A,{style:{backgroundColor:"#fff"},items:[{key:e.key,label:e.title,children:x(e.key),extra:(t=e.key,(0,l.jsx)(c.A,{title:"Remove row",placement:"left",children:(0,l.jsx)(o.Ay,{icon:(0,l.jsx)(v.A,{}),onClick:()=>u(t),color:"red",variant:"outlined"})}))}]},e.key);var t})),(0,l.jsx)(o.Ay,{color:"default",variant:"outlined",onClick:()=>{p({title:"Row ".concat(s.length+1)})},children:"Add row"})]})})),m=(0,a.forwardRef)(((e,t)=>{const[n,s]=(0,a.useState)({}),[c,o]=(0,a.useState)({prevPageTitle:"",prevPageLink:"",nextPageTitle:"",nextPageLink:""}),d=(e,t)=>{o((n=>{const a=(0,r.A)((0,r.A)({},n),{},{[e]:t});return"prevPageTitle"!==e&&"nextPageTitle"!==e||""!==t||("prevPageTitle"===e?a.prevPageLink="":"nextPageTitle"===e&&(a.nextPageLink="")),a}))};return(0,a.useImperativeHandle)(t,(()=>({validate:()=>{const e={},t=/^(https?):\/\/[^\s/$.?#].[^\s]*$/i;return""!==c.prevPageTitle.trim()&&(""===c.prevPageLink.trim()?e.prevPageLink="Previous page link is required. Add it or remove previous page title":""!==c.prevPageLink.trim()&&(t.test(c.prevPageLink)||(e.prevPageLink="Please enter a valid URL"))),""!==c.nextPageTitle.trim()&&(""===c.nextPageLink.trim()?e.nextPageLink="Next page link is required. Add it or remove next page title":""!==c.nextPageLink.trim()&&(t.test(c.nextPageLink)||(e.nextPageLink="Please enter a valid URL"))),s(e),0===Object.keys(e).length},getValues:()=>c}))),(0,l.jsxs)("section",{className:"page-prev-next-linking basic-col",children:[(0,l.jsx)("h2",{className:"regular24",children:"Linking"}),(0,l.jsxs)("div",{className:"basic-row",children:[(0,l.jsxs)("div",{className:"basic-col",children:[(0,l.jsxs)("div",{className:"basic-col",children:[(0,l.jsx)("label",{htmlFor:"prevPageTitle",children:"Previous page title"}),(0,l.jsx)(i.A,{value:c.prevPageTitle,onChange:e=>d("prevPageTitle",e.target.value),allowClear:!0})]}),(0,l.jsxs)("div",{className:"basic-col",children:[(0,l.jsx)("label",{htmlFor:"prevPageLink",children:"Previous page link"}),(0,l.jsx)(i.A,{value:c.prevPageLink,onChange:e=>d("prevPageLink",e.target.value),disabled:!c.prevPageTitle.trim(),allowClear:!0}),n.prevPageLink&&(0,l.jsx)("div",{className:"error",children:n.prevPageLink})]})]}),(0,l.jsxs)("div",{className:"basic-col",children:[(0,l.jsxs)("div",{className:"basic-col",children:[(0,l.jsx)("label",{htmlFor:"nextPageTitle",children:"Next page title"}),(0,l.jsx)(i.A,{value:c.nextPageTitle,onChange:e=>d("nextPageTitle",e.target.value),allowClear:!0})]}),(0,l.jsxs)("div",{className:"basic-col",children:[(0,l.jsx)("label",{htmlFor:"nextPageLink",children:"Next page link"}),(0,l.jsx)(i.A,{value:c.nextPageLink,onChange:e=>d("nextPageLink",e.target.value),disabled:!c.nextPageTitle.trim(),allowClear:!0}),n.nextPageLink&&(0,l.jsx)("div",{className:"error",children:n.nextPageLink})]})]})]})]})}));var j=n(2115);const f="Content generated successfully!",w="Failed to generate content.",A=e=>{let{heroContent:t,bodyContent:n,pagePrevNextLinkingContent:a}=e;const{pageTitle:r,imageLink:i}=t;return(e=>{let{html:t}=e;return t.replace(/\n/g,"").replace(/\s{2,}/g," ").replace(/>\s+</g,"><").trim()})({html:"\n  ".concat("<style>\n    .excursion-main-container{max-width:1030px!important;width:100%;margin:0 auto}.excursion-article-section h1,.excursion-article-section h3,.paragraph-to-heading{font-size:1.5em;margin-block-start:.83em;margin-block-end:.83em}.excursion-heading{text-align:center;line-height:46px;font-size:38px;display:flex;justify-content:center;font-weight:600;color:rgba(0,0,0,.85);margin-bottom:calc(.5em + 24px);margin-top:25px}.excursion-image-container img{border-radius:24px;width:100%;height:480px}.buttons-container{display:inline-flex;align-items:center;justify-content:space-between;width:100%}.next-excursion-icon,.prev-excursion-icon{width:25px;height:25px}@media (max-width:1024px){.excursion-image-container img{height:auto}}.next-excursion-container,.prev-excursion-container{display:inline-flex;width:100%;align-items:center;justify-content:flex-end;margin:30px 0;gap:5px}.prev-excursion-container{justify-content:flex-start}.next-excursion-title,.prev-excursion-title{font-size:16px;font-weight:600;margin:0}\n</style>",'\n    <section class="excursion-main-container">\n      <span class="excursion-heading">').concat(r,'</span>\n      <div class="excursion-image-container">\n        <img\n          src="').concat(i,'"\n          loading="eager"\n          fetchpriority="high"\n          alt="').concat(r,'"\n        />\n      </div>\n\n      <article class="excursion-article-section">\n        ').concat((()=>{const e=n.heading||{},t=n.paragraph||{};return Object.keys(e).map((n=>"\n        <article>\n          ".concat(Object.values(e[n]).map((e=>{let{type:t,text:n,class:a}=e;return"p"===t&&a?'<p><strong class="'.concat(a,'">').concat(n,"</strong></p>"):"<".concat(t,">").concat(n,"</").concat(t,">")})).join("\n"),"\n          ").concat(t[n]?Object.values(t[n]).map((e=>{let{type:t,text:n}=e;return"<".concat(t,">").concat(n,"</").concat(t,">")})).join("\n"):"","\n        </article>\n      ")))})().join("\n"),'\n      </article>\n\n      <div class="buttons-container">\n        ').concat((()=>{const{prevPageTitle:e,prevPageLink:t,nextPageTitle:n,nextPageLink:r}=a,i=[];return e&&i.push('\n        <a class="prev-excursion-container" href='.concat(t,' style="text-decoration:none;color:#000">\n            <div class="prev-excursion-icon"><svg xmlns="http://www.w3.org/2000/svg" width="25px" height="25px" viewBox="0 0 24 24" fill="none">\n                    <path d="M15 6L9 12L15 18" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n                </svg></div>\n                <span class="prev-excursion-title">').concat(e,"</span>\n        </a>\n        ")),n&&i.push('\n        <a class="next-excursion-container" href='.concat(r,' style="text-decoration:none;color:#000">\n            \n                <span class="next-excursion-title">').concat(n,'</span>\n                <div class="next-excursion-icon"><svg xmlns="http://www.w3.org/2000/svg" width="25px" height="25px" viewBox="0 0 24 24" fill="none">\n                    <path d="M9 6L15 12L9 18" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n                </svg></div>\n        </a>\n        ')),i.join("\n")})(),"\n      </div>\n    </section>\n  ")})};var b=n(9359),P=n(9025);const{TextArea:C}=i.A;function L(e){let{content:t,scrollRef:n}=e;const[r,i]=(0,a.useState)(!1);return(0,l.jsxs)("section",{ref:n,className:"code-display basic-col",id:"codeDisplay",style:{marginTop:"20px",width:"100%"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,l.jsx)("h2",{className:"regular24",children:"Generated code"}),(0,l.jsx)(c.A,{title:r?"Copied!":"Copy to clipboard",children:(0,l.jsx)(o.Ay,{icon:(0,l.jsx)(P.A,{}),onClick:async()=>{try{await navigator.clipboard.writeText(t),i(!0),b.Ay.success("Copied to clipboard!"),setTimeout((()=>i(!1)),2e3)}catch(e){b.Ay.error("Failed to copy!")}},type:"text",size:"large"})})]}),(0,l.jsx)(C,{value:t,style:{resize:"none"},rows:6,readOnly:!0})]})}function T(){const e=(0,a.useRef)(),t=(0,a.useRef)(),n=(0,a.useRef)(),[r,i]=(0,a.useState)(""),c=(0,a.useRef)(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"regular28",children:"Excursion page generator"}),(0,l.jsx)(s,{ref:e,pageTitle:!0,imageLink:!0}),(0,l.jsx)(k,{ref:t,content:[{rowType:"heading",items:{headings:[{type:"h1",class:""},{type:"h2",class:""},{type:"h3",class:""},{type:"h4",class:""},{type:"p",class:"paragraph-to-heading"}]}},{rowType:"paragraph",items:{paragraphs:[{type:"p",class:""},{type:"li",class:""}]}}]}),(0,l.jsx)(m,{ref:n}),(0,l.jsx)(o.Ay,{onClick:()=>{var a,r,l,s,o,d,p,g,u,h,x,y;const v=null===(a=e.current)||void 0===a||null===(r=a.validate)||void 0===r?void 0:r.call(a),k=null===(l=t.current)||void 0===l||null===(s=l.validate)||void 0===s?void 0:s.call(l),m=null===(o=n.current)||void 0===o||null===(d=o.validate)||void 0===d?void 0:d.call(o);if(!v||!k||!m)return void j.oR.error(w);const b=null===(p=e.current)||void 0===p||null===(g=p.getValues)||void 0===g?void 0:g.call(p),P=null===(u=t.current)||void 0===u||null===(h=u.getValues)||void 0===h?void 0:h.call(u),C=null===(x=n.current)||void 0===x||null===(y=x.getValues)||void 0===y?void 0:y.call(x),L=A({heroContent:b,bodyContent:P,pagePrevNextLinkingContent:C});i(L),setTimeout((()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),100),j.oR.success(f)},type:"primary",style:{marginTop:"20px",width:"100%"},children:"Generate excursion page"}),r&&(0,l.jsx)(L,{content:r,scrollRef:c})]})}}}]);
//# sourceMappingURL=623.b9729592.chunk.js.map